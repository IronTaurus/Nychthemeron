<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random NPC</title>
</head>

<body>
    <div>
        <label for="sex-select">Sex:</label>
        <select name="sex" id="sex-select">
            <option value="">--Please choose an option--</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
        </select>
        <label for="race-select">Race:</label>
        <select name="race" id="race-select">
            <option value="">--Please choose an option--</option>
            <option value="human">Human</option>
            <option value="orc">Orc</option>
        </select>
        <label for="origin-select">Origin:</label>
        <select name="origin" id="origin-select">
            <option value="">--Please choose an option--</option>
            <option value="Avena">Avena</option>
        </select>
        <label for="status-select">Status:</label>
        <select name="status" id="status-select">
            <option value="random">Random</option>
            <option value="commoner">Commoner</option>
            <option value="wealthy">Wealthy</option>
            <option value="noble">Noble</option>
        </select>
        <label for="job-select">Class:</label>
        <select name="job" id="job-select">
            <option value="random">Random</option>
            <option value="commoner">Commoner</option>
            <option value="noble">Noble</option>
        </select>
        <!-- <form id="Options">
            <input type="radio" class="nameOrigin" id="originAvena" value="Avena">
            <label for="originAvena">Avena</label>
            <input type="radio" class="nameOrigin" id="originAvena" value="Heln">
            <label for="originAvena">Heln</label>
            <input type="radio" class="nameOrigin" id="originAvena" value="Legaria">
            <label for="originAvena">Legaria</label>
        </form> -->
        <button onclick="generateNpc()">Get random name</button>
        <h1 id="npcName">Name</h1>
        <h1 id="nameConstruct">Name2</h1>
        <h2 id="job">Class </h2>
        <h2 id="height">Height: </h2>
        <h2 id="age"></h2>
        <h3 id="appearenceNotable"></h3>
        <h3 id="appearenceClothes"></h3>
        <h3 id="appearanceHair"></h3>

    </div>
</body>

<script>
    // import assert from 'assert';
    // import { parse } from 'csv-parse';
    const npcNames = [];

    // class Part {
    //     constructor(wound, feature) {
    //         this.wound = wound,
    //             this.feature = feature
    //     }
    // }

    const npcFetch = {
        body: (options) => { return (getBody(options)); },
        sex: (options) => { return (getSex()); },
        origin: (options) => { return (getOrigin()); },
        name: (options) => { return (getName(options)); },
    }

    const Part = {
        wound: "",
        feature: ""
    }

    const Leg = {
        foot: Part,
        knee: Part,
        thigh: Part
    }

    const Arm = {
        hand: Part,
        foreArm: Part,
        upperArm: Part
    }

    const Head = {
        leftEye: Part,
        rightEye: Part,
        leftEar: Part,
        rightEar: Part,
        nose: Part,
        hair: "",
        teeth: "",
        lips: "",
        cheek: Part,
        brow: "",
        forehead: Part,
        chin: Part
    }

    const Sex = {
        name: "",
        pronoun1: "",
        pronoun2: "",
        pronoun_own: ""
    }


    class Body {
        constructor(type, head, leftArm, rightArm, leftLeg, rightLeg, height, weigth, age) {
            this.type = Type;
            this.head = Head;
            this.leftArm = Arm;
            this.rightArm = Arm;
            this.leftLeg = Leg;
            this.rightLeg = Leg;
            this.height = height;
            this.weight = weight;
            this.age = age;


        }
    }
    class Risk {
        constructor(head, arm, leg, type) {
            this.head = head;
            this.arm = arm;
            this.leg = leg;
            this.type = type;
        }
    }

    class Job {
        constructor(title, risk) {
            this.title = title;
            this.risk = new Risk();
        }
    }

    class NpcName {
        constructor(name, gender, race, origin) {
            this.name = name;
            this.gender = gender;
            this.race = race;
            this.origin = origin;
        }

    }

    class Npc {
        constructor(job, status, name, clothes, origin, body, sex, race) {
            this.job = Job;
            this.status = status;
            this.name = name;
            this.clothes = clothes;
            this.origin = origin;
            this.body = new Body();
            this.sex = Sex;
            this.race = race;
        }
    }
    //#region Human
    var avena_human_male_fNamn = ['Patrick', 'Emmet', 'Darwin', 'Irwin', 'Charles', 'Martin', 'Rodrick', 'Victor', 'Aldrich', 'Ansley', 'Barden', 'Blake', 'Booth', 'Bradley', 'Brent', 'Buck', 'Cameron', 'Carter', 'Cliff', 'Colt', 'Dane', 'Crieg', 'Devon', 'Dunstan', 'Dwight', 'Eric', 'Elden', 'Eldon', 'Floyd', 'Garrick', 'Harman', 'Hazel', 'Keyton', 'Landon', 'Leland', 'Nash', 'Morven', 'Oak', 'Nyle', 'Olin', 'Osmond', 'Oswald', 'Payton', 'Pierson', 'Peter', 'Ramsey', 'Robert', 'Rodney', 'Shaw', 'Slade', 'Stan', 'Stanley', 'Thane', 'Thorne']
    var avena_human_eNamn = ['Ashton', 'Ashdown', 'Ageworth', 'Baker', 'Bogwold', 'Brine', 'Blackfoot', 'Bagger', 'Clayman', 'Cluefinder', 'Coldwin', 'Colton', 'Caulder', 'Caldwell', 'Dawn', 'Droglor', 'Dulma', 'Dawnsquire', 'Dunst', 'Dustwyn', 'Duvall', 'Dove', 'Drover', 'Emmerson', 'Eldwyn', 'Elwin', 'Elmire', 'Eckerman', 'Everstone', 'East', 'Evens', 'Flinch', 'Fallwyn', 'Hill', 'Hammerton', 'Huxley', 'Himley', 'Lordell', 'Lorwyn', 'Lala', 'Logwin', 'Logger', 'Lonell', 'Lannis', 'North', 'Norwyn', 'Noland', 'Nogrief', 'Nostor', 'Malwyn', 'Mire', 'Mosswyn', 'Miller', 'Mithrin', 'Malos', 'Moon', 'Preston', 'Pierce', 'Poole', 'Rand', 'Relwyn', 'Sorrow', 'Sawmill', 'Saige', 'Timmer', 'Thorwin', 'Talmer']
    var avena_human_female_fNamn = ['Ashley', 'Ally', 'Allison', 'Alina', 'Alice', 'Amber', 'Anne', 'Alexandra', 'Berith', 'Bridget', 'Brittany', 'Bella', 'Belle', 'Brienne', 'Camille', 'Caroline', 'Carol', 'Doris', 'Dartha', 'Doris', 'Danielle', 'Danie', 'Diana', 'Erica', 'Emelie', 'Emma', 'Evelyn', 'Eve', 'Evelina', 'Erina', 'Elaine', 'Ester', 'Elina', 'Elin', 'Fiona', 'Falin', 'Fredrica', 'Gwen', 'Gweneth', 'Gina', 'Goldine', 'Gabrielle', 'Geena', 'Hariette', 'Hana', 'Helen', 'Helena', 'Irena', 'Irma', 'Irianna', 'Iona', 'Imogen', 'Julianne',
        'Julia', 'Juliette', 'Jane', 'Josephyn', 'Joline', 'Kalista', 'Karina', 'Karin', 'Kamille', 'Laura', 'Lisa', 'Margret', 'Maria', 'Mina', 'Nina', 'Neria', 'Noelle', 'Olivia', 'Ophelia']
    //#endregion Human
    //#region Orc
    var nameContruct1 = ['Sa', 'Su', 'Se', 'Si', 'So', 'Ka', 'Ki', 'Ku', 'Ke', 'Ko', 'Ma', 'Mi', 'Mu', 'Mo', 'Na', 'Ni', 'No'];
    var nameContruct2 = ['r', 'k', 'a', 'o', 'or', 'la', 'va'];
    var nameContruct3 = ['ah', 'oh', 'ana', 'ene', 'ick', 'ri', 're', 'in', 'va', 'vich', 'en', 'on'];

    var orcFeatures = ['a large left tusk almost double the size of the other, reaching up to his cheek', 'his left tusk broken', 'a large bone ring in his nose with orcish engravings']

    //#endregion Orc
    var appearenceBody = [' has a muscular body', ' has a thin meager body', ' has a large body', ' has a slender body']
    var appearenceMarkings = ['a tattoo on the left shoulder', 'a tattoo on the right shoulder', 'a tattoo on the back', 'a tattoo on the neck', 'a tattoo on the chest', 'a tattoo on the left leg', 'a tattoo on the right leg', 'red stripes painted over the upper body']
    var appearenceScars = ['a large scar covering most of the left face', 'a large scar covering most of the right face', 'a visible scar over the left eye', 'a clear visible scar over the right eye', 'claw marks from hairline down to the eyebrows', 'a jagged scar on the chin',
        'a large scar on the left shoulder', 'a large scar on the right shoulder', 'left side of lips torn with a nasty scar revealing the upper teeth', 'a cut off nose', 'a cut off left ear', 'a cut off right ear',
        'a missing thumb on the left hand', 'a missing thumb on the right hand', 'both ring and littlefinger missing from the left hand', 'both ring and littlefinger missing from the right hand', 'a left hand missing', 'a right hand missing']
    var appearenceClothesMaleTop = ['a red linen shirt', 'a white linen shirt', 'a gray linen shirt', 'a pink linen shirt', 'a black one sleeved shirt', 'a bare chest', 'the body wrapped in bandages', 'a torn linen shirt']
    var appearenceClothesMaleBottom = ['green baggy pants', 'brown baggy pants', 'black leather pants', 'leather shorts', 'torn linen pants']



    var appearanceHairStyle1 = ['long wavy hair', 'long curly hair', 'long straight hair', 'long bushy hair', 'shoulder long wavy hair', 'shoulder long wavy hair', 'shoulder long curly hair', 'shoulder long straight hair', 'shoulder long bushy hair'
        , 'short wavy hair', 'short wavy hair', 'short curly hair', 'short straight hair', 'short bushy hair', 'short uncombed hair']
    var appearanceHairStyle2 = ['with a single large braid', 'with several thin braids', 'split into two braids', 'tied in a knot on the back of the head', 'combed to the side', 'combed to the back', 'tied in a knot on top of the head',
        'uncombed and wild', 'tied in a tail on the back of the head', 'with a single thin braid hanging on the left', 'with a single thin braid hanging on the right']
    var appearanceHairColor = ['black', 'dark brown', 'light brown', 'dark red', 'red', 'strawberry blonde', 'blonde', 'jet black', 'gray', 'white']

    const clothesSentence = (body) => {
        const c = body.clothes
        let addExtra = c.extra ? ` with ${c.extra}.` : ".";
        return `${body.sex.pronoun1} has a  ${c.topDescription} ${c.topColor} ${c.topType} made out of ${c.topFabric} with a ${c.botDescription} ${c.botColor} ${c.botFabric} ${c.botType}${addExtra}`
    }
    const bodySentence = (body) => {
        let bodyWounds = "";
        numberOf = 0;
        if (Object.keys.length != 0) {
            Object.keys(body.bodyParts).forEach(key => {
                let inclusion = numberOf ? ` and` : " with";
                let o = body.bodyParts[key]
                bodyWounds += `${inclusion} ${o.amount} ${o.appearence} ${o.wound} ${o.cover} the ${o.position}`
                numberOf++;
            });
        }

        headWounds = "";
        numberOf = 0;
        Object.keys(body.head).forEach(key => {
            let inclusion = numberOf ? ` and` : `, ${body.sex.pronoun_own} face has`;
            let o = body.head[key]
            let cExist = o.color ? ` ${o.color} ` : ` `
            let fExist = o.feature ? ` ${o.feature} ` : ` `
            headWounds += `${inclusion} ${o.amount}${cExist}${o.appearence}${fExist}${o.cover} the ${o.position}`
            numberOf++;
        });
        return `${body.sex.pronoun1} has ${body.type} body${bodyWounds}${headWounds}.`
    }
    function generateNpc() {
        const constans = {
            sex: document.getElementById("sex-select").value,
            job: getJob(),
            status: "commoner",
            race: document.getElementById("race-select").value,
            origin: document.getElementById("origin-select").value,
            status: document.getElementById("status-select").value
        }

        const sentenceConstructor = {
            Clothes: (options) => clothesSentence(options),
            Body: (options) => bodySentence(options),
        }
        let newCharacter = createBody({ ...constans });
        console.log(newCharacter);

        const text = sentenceConstructor["Body"](newCharacter);
        console.log(text);

        console.log("sex is:" + constans.sex)
        const fullName = npcFetch["name"]({ ...constans });

        document.getElementById("npcName").innerHTML = `${fullName.fNamn} ${fullName.eNamn}`;
        document.getElementById("appearenceNotable").innerHTML = `${text}`;
        const clothesText = sentenceConstructor["Clothes"](newCharacter);
        document.getElementById("appearenceClothes").innerHTML = clothesText;
        nameCon1 = nameContruct1[Math.floor(Math.random() * nameContruct1.length)];
        if (Math.random() < 0.5) {
            nameCon2 = nameContruct2[Math.floor(Math.random() * nameContruct2.length)];
        }
        else (nameCon2 = "")
        nameCon3 = nameContruct3[Math.floor(Math.random() * nameContruct3.length)];
        document.getElementById("nameConstruct").innerHTML = nameCon1 + nameCon2 + nameCon3;

    }
    function getClothes(status) {
        //#region  ClothesArray
        const ClothesFullType = {
            female: ['medium length dress', 'long dress', 'robe'],
        }
        const ClothesTopDescription = {
            commoner: ['short', 'long', 'thin', 'worn', 'torn'],
            wealthy: ['long', 'thin', 'tight', 'slick', 'layered'],
            noble: ['long', 'thin', 'tight', 'slick', 'layered', 'beautiful', 'shiny']
        }
        const ClothesBotDescription = {
            commoner: ['short', 'long', 'worn', 'tight', 'thin', 'knee long', 'torn'],
            wealthy: ['long', 'tight', 'thin', 'knee long', 'beautiful', 'layered'],
            noble: ['long', 'tight', 'thin', 'beautiful', 'layered'],
        }
        const ClothesTopTypes = {
            commoner: ['shirt', 'tunic', 'sleeveless shirt', 'vest', "one-sleeved shirt", 'poncho'],
            wealthy: ['shirt', 'tunic', 'sleeveless shirt', 'blazer'],
            noble: ['shirt', 'tunic', 'sleeveless shirt'],
        }
        const ClothesBotTypes = {
            commoner: ['skirt', 'pants', 'shorts'],
            wealthy: ['skirt', 'pants', 'shorts'],
            noble: ['skirt', 'pants', 'shorts'],
        }

        const ClothesFabric = {
            commoner: ['linen', 'wool', 'leather', 'hemp'],
            wealthy: ['linen', 'velvet', 'silk'],
            noble: ['silk', 'velvet', 'tafeta', 'damask'],
        }
        const ClothesColor = {
            commoner: ['red', 'gray', 'ivory white', 'vanilla', 'brown'],
            wealthy: ['bright red', 'orange', 'yellow', 'snow white', 'deep blue', 'dark green', 'bright green', 'blue'],
            noble: ['bright red', 'orange', 'yellow', 'snow white', 'deep blue', 'purple', 'dark green', 'green', 'bright green', 'sky blue'],
        }
        const ArmorType = {
            commoner: ['leather', 'studded leather', 'chain vest', 'padded'],
            wealthy: ['chain mail', 'iron chest', 'padded', 'chain vest'],
            noble: ['chain mail', 'full plate', 'iron chest', 'scale']
        }
        const ArmorColor = {
            commoner: ['worn', 'dark', 'dirty', 'dull'],
            wealthy: ['silver', 'black', 'green', 'shiny', 'dulled silver'],
            noble: ['golden', 'shiny', 'jeweled', 'silver', 'pitch black', 'pearl white', 'green']
        }
        //#endregion ClothesArray
        var clothesList = [];
        console.log(JSON.stringify(status));
        return {
            topFabric: ClothesFabric[status][Math.floor(Math.random() * ClothesFabric[status].length)],
            topDescription: ClothesTopDescription[status][Math.floor(Math.random() * ClothesTopDescription[status].length)],
            topType: ClothesTopTypes[status][Math.floor(Math.random() * ClothesTopTypes[status].length)],
            topColor: ClothesColor[status][Math.floor(Math.random() * ClothesColor[status].length)],
            botFabric: ClothesFabric[status][Math.floor(Math.random() * ClothesFabric[status].length)],
            botDescription: ClothesBotDescription[status][Math.floor(Math.random() * ClothesBotDescription[status].length)],
            botType: ClothesBotTypes[status][Math.floor(Math.random() * ClothesBotTypes[status].length)],
            botColor: ClothesColor[status][Math.floor(Math.random() * ClothesColor[status].length)],
            extra: "",
        }
    }
    function getFeatures(race) {
        var feature = [];
        if (race == 'orc') {
            var racialFeature = orcFeatures[Math.floor(Math.random() * orcFeatures.length)];
            feature.push(racialFeature);
        }

        if (Math.random() < 0.5) {
            var scar = appearenceScars[Math.floor(Math.random() * appearenceScars.length)];
            feature.push(scar);
        }

        if (Math.random() < 0.5) {
            var marking = appearenceMarkings[Math.floor(Math.random() * appearenceMarkings.length)]
            feature.push(marking);
        }

        return feature;
    }
    function getBody(options) {
        if (options.race == 'orc') {
            var height = Math.floor(Math.random() * (300 - 190)) + 190;
            var size = 'large'
            var build = appearenceBody[Math.floor(Math.random() * appearenceBody.length)]
            var age = Math.floor(Math.random() * (90 - 20)) + 20;

        }
        else if (options.race == 'human') {
            if (options.sex == 'male') {
                var height = Math.floor(Math.random() * (190 - 160)) + 160;
            }
            if (options.sex == 'female') {
                var height = Math.floor(Math.random() * (180 - 150)) + 150;
            }
            var size = 'medium'
            var build = appearenceBody[Math.floor(Math.random() * appearenceBody.length)]
            if (Math.random() < 0.7) {
                if (Math.random() < 0.65) {
                    var age = Math.floor(Math.random() * (35 - 17)) + 17;
                }
                else { var age = Math.floor(Math.random() * (59 - 34)) + 34; }

            }
            else { var age = Math.floor(Math.random() * (80 - 60)) + 60; }

        }
        return { height, size, build, age };
    }
    function getName(options) {

        var avena_human_male_fNamn = ['Patrick', 'Emmet', 'Darwin', 'Irwin', 'Charles', 'Martin', 'Rodrick', 'Victor', 'Aldrich', 'Ansley', 'Barden', 'Blake', 'Booth', 'Bradley', 'Brent', 'Buck', 'Cameron', 'Carter', 'Cliff', 'Colt', 'Dane', 'Crieg', 'Devon', 'Dunstan', 'Dwight', 'Eric', 'Elden', 'Eldon', 'Floyd', 'Garrick', 'Harman', 'Hazel', 'Keyton', 'Landon', 'Leland', 'Nash', 'Morven', 'Oak', 'Nyle', 'Olin', 'Osmond', 'Oswald', 'Payton', 'Pierson', 'Peter', 'Ramsey', 'Robert', 'Rodney', 'Shaw', 'Slade', 'Stan', 'Stanley', 'Thane', 'Thorne']
        var avena_human_eNamn = ['Ashton', 'Ashdown', 'Ageworth', 'Baker', 'Bogwold', 'Brine', 'Blackfoot', 'Bagger', 'Clayman', 'Cluefinder', 'Coldwin', 'Colton', 'Caulder', 'Caldwell', 'Dawn', 'Droglor', 'Dulma', 'Dawnsquire', 'Dunst', 'Dustwyn', 'Duvall', 'Dove', 'Drover', 'Emmerson', 'Eldwyn', 'Elwin', 'Elmire', 'Eckerman', 'Everstone', 'East', 'Evens', 'Flinch', 'Fallwyn', 'Hill', 'Hammerton', 'Huxley', 'Himley', 'Lordell', 'Lorwyn', 'Lala', 'Logwin', 'Logger', 'Lonell', 'Lannis', 'North', 'Norwyn', 'Noland', 'Nogrief', 'Nostor', 'Malwyn', 'Mire', 'Mosswyn', 'Miller', 'Mithrin', 'Malos', 'Moon', 'Preston', 'Pierce', 'Poole', 'Rand', 'Relwyn', 'Sorrow', 'Sawmill', 'Saige', 'Timmer', 'Thorwin', 'Talmer']
        var avena_human_female_fNamn = ['Ashley', 'Ally', 'Allison', 'Alina', 'Alice', 'Amber', 'Anne', 'Alexandra', 'Berith', 'Bridget', 'Brittany', 'Bella', 'Belle', 'Brienne', 'Camille', 'Caroline', 'Carol', 'Doris', 'Dartha', 'Doris', 'Danielle', 'Danie', 'Diana', 'Erica', 'Emelie', 'Emma', 'Evelyn', 'Eve', 'Evelina', 'Erina', 'Elaine', 'Ester', 'Elina', 'Elin', 'Fiona', 'Falin', 'Fredrica', 'Gwen', 'Gweneth', 'Gina', 'Goldine', 'Gabrielle', 'Geena', 'Hariette', 'Hana', 'Helen', 'Helena', 'Irena', 'Irma', 'Irianna', 'Iona', 'Imogen', 'Julianne', 'Julia', 'Juliette', 'Jane', 'Josephyn', 'Joline', 'Kalista', 'Karina', 'Karin', 'Kamille', 'Laura', 'Lisa', 'Margret', 'Maria', 'Mina', 'Nina', 'Neria', 'Noelle', 'Olivia', 'Ophelia']

        const races = {
            human: (sex) => {
                const names = {
                    female: {
                        fNamn: avena_human_female_fNamn[Math.floor(Math.random() * avena_human_female_fNamn.length)],
                        eNamn: avena_human_eNamn[Math.floor(Math.random() * avena_human_eNamn.length)]
                    },
                    male: {
                        fNamn: avena_human_male_fNamn[Math.floor(Math.random() * avena_human_male_fNamn.length)],
                        eNamn: avena_human_eNamn[Math.floor(Math.random() * avena_human_eNamn.length)]
                    },
                    other: {
                        fNamn: avena_human_female_fNamn[Math.floor(Math.random() * avena_human_female_fNamn.length)],
                        eNamn: avena_human_eNamn[Math.floor(Math.random() * avena_human_eNamn.length)]
                    },
                }
                const fNamn = names[sex].fNamn;
                const eNamn = names[sex].eNamn;
                return { fNamn, eNamn };
            },
            orc: (sex) => (
                {
                    female: {
                        fNamn: 'orc',
                        eNamn: 'female'
                    },
                    male: {
                        fNamn: 'orc',
                        eNamn: 'male',
                    },
                    other: {
                        fNamn: 'orc',
                        eNamn: 'other'
                    },
                }),
        }
        console.log("Sex is still:" + JSON.stringify(options))
        const r = races[options.race](options.sex);
        console.log("name is:" + JSON.stringify(r))
        return r;
    }
    function getSex(options) {
        if (options == 'female') {
            return {
                title: "female",
                pronoun1: "she",
                pronoun2: "her",
                pronoun_own: "her"
            }

        }
        else if (options == 'male') {
            return {
                title: "male",
                pronoun1: "he",
                pronoun2: "him",
                pronoun_own: "his"
            }
        }
        else {
            return {
                title: "other",
                pronoun1: "they",
                pronoun2: "them",
                pronoun_own: "their"
            }
        }
    }
    function getHair(race, nationality, status) {
        const race = {
            human: {
                avena: {
                    commoner: {
                        style: ["wavy", "bushy", "wild", "dirty", "straight"],
                    length: ["medium", "long", "short"],
                    color: ["brown", "blonde", "light brown", "dark brown"]
                    },
                    noble: {
                        style: ["wavy", "shiny", "silken", "straight"],
                    length: ["medium", "long", "short"],
                    color: ["brown", "blonde", "light brown", "dark brown"] 
                    }
                    
                },
                legaria: [],
                heln: [],
                illindar: [],
                acreos: []
            },
            orc: {

            }
        }
        if (race == 'human') {
            var hairStyle1 = appearanceHairStyle1[Math.floor(Math.random() * appearanceHairStyle1.length)];
            var hairStyle2 = appearanceHairStyle2[Math.floor(Math.random() * appearanceHairStyle2.length)];
            hairColor = appearanceHairColor[Math.floor(Math.random() * appearanceHairColor.length)];
        }
        else if (race == 'orc') {
            var hairStyle1 = appearanceHairStyle1[Math.floor(Math.random() * appearanceHairStyle1.length)];
            var hairStyle2 = appearanceHairStyle2[Math.floor(Math.random() * appearanceHairStyle2.length)];
            hairColor = appearanceHairColor[Math.floor(Math.random() * appearanceHairColor.length)];
        }
        return { hairStyle1, hairStyle2, hairColor };
    }
    function getJob() {
        const commoner = {
            title: "commoner",
            bodyTypes: ['an average', 'a muscular', 'a meager', 'a thin'],
            woundHead: 0.22,
            woundArm: 0.35,
            woundLeg: 0.12,
            woundTypes: ["bruise", "blister"],
            skinConditionRisk: 0.15,
            skinConditionType: ["has a rash", "is dry and cracked", "is red", "has red dots"],
            featureChance: 0.5,
            featuresHead: 0.2,
            featuresArm: 0.4,
            featuresLeg: 0.4,
            tattoo: {
                type: ["painted"],
                color: ["pale", "dark", "red", "gray", "white"],
                singular: {
                    appearence: ["circle", "sickle", "tilted scale", "symbol", "word", "name", "sword", "crescent moon", "bow and arrow", "two tailed mouse", "number", "talon", "leaf"],
                    amount: ["a"]
                },
                plural: {

                    appearence: ["two parallel circles", "several symbols", "a number of words", "several names", "three arrows"],
                    amount: []
                },
                cover: ["on"],
            },
            engraving: {
                type: ["engraved", "branded"],
                color: [],
                singular: {
                    appearence: ["circle", "sickle", "tilted scale", "symbol", "word", "name", "sword", "crescent moon", "bow and arrow", "two tailed mouse", "number", "talon", "leaf"],
                    amount: ["a"],
                },
                plural: {
                    appearence: ["two parallel circles", "several symbols", "a number of words", "several names", "three arrows"],
                    amount: [],
                },
                cover: ["on"],
            },
            piercing: {
                type: [],
                color: ["steel", "iron"],
                appearence: ["ring", "piercing", "bar"],
                cover: ["in"],
                amount: ["a"],
            },
            special: {
                type: ["symbol"],
                color: ["red", "black", "white"],
                appearence: ["round", "big", "diamond shaped", "small"],
                cover: ["on"],
                amount: ["a"],
            },
            wound: {
                type: ["bruise", "blister", "scar"],
                color: [],
                cover: ["on", "near"],
                appearence: ["gnarly", "faint", "old", "fresh", "large", "small", "big"],
            }
        };
        const soldier = {
            title: "soldier",
            bodyTypes: ['an average', 'a large', 'a muscular', 'a fit'],
            woundHead: 0.35,
            woundArm: 0.45,
            woundLeg: 0.18,
            woundTypes: ["bruise", "scar"],
            skinConditionRisk: 0.08,
            skinConditionType: ["is grey and has a stone like texture", "is dry and cracked", "is red"],
            featureChance: 0.7,
            featuresHead: 0.3,
            featuresArm: 0.5,
            featuresLeg: 0.2,
            tattoo: {
                type: ["tattooed", "painted"],
                color: ["red", "black", "silver", "white"],
                singular: {
                    appearence: ["flame", "crecent moon", "tilted scale", "symbols", "word", "name", "sword", "hawk", "full moon", "bow and arrow", "two headed snake", "two tailed mouse", "two headed mouse"],
                    amount: ["a"]
                },
                plural: {

                    appearence: ["flames", "symbols", "words", "names", "two crossed swords", "two crossed axes", "three arrows", "three entangled snakes"],
                    amount: []
                },
                cover: ["on"],
            },
            engraving: {
                type: ["engraved", "branded"],
                color: [],
                singular: {
                    appearence: ["flame", "crecent moon", "tilted scale", "symbols", "word", "name", "sword", "hawk", "full moon", "bow and arrow", "two headed snake", "two tailed mouse", "two headed mouse"],
                    amount: ["a"],
                },
                plural: {
                    appearence: ["flames", "symbols", "words", "names", "two crossed swords", "two crossed axes", "three arrows", "three entangled snakes"],
                    amount: [],
                },
                cover: ["on"],
            },
            piercing: {
                type: [],
                color: ["silver", "iron"],
                appearence: ["ring", "piercing", "bar"],
                cover: ["in"],
                amount: ["a"],
            },
            special: {
                type: ["symbol"],
                color: ["red", "blue", "black", "yellow"],
                appearence: ["round", "big", "diamond shaped", "small"],
                cover: ["on"],
                amount: ["a"],
            },
            wound: {
                type: ["bruise", "scar"],
                color: [],
                cover: ["on", "near"],
                appearence: ["gnarly", "faint", "old", "fresh", "large", "small", "big"],
            }

        };
        const noble = {
            title: "noble",
            bodyTypes: ['an average', 'a large', 'a slender', 'a fit'],
            woundHead: 0.13,
            woundArm: 0.2,
            woundLeg: 0.1,
            skinConditionRisk: 0.03,
            skinConditionType: ["is slightly blueish", "is almost white", "is red"],
            featureChance: 0.4,
            featuresHead: 0.3,
            featuresArm: 0.4,
            featuresLeg: 0.3,
            tattoo: {
                type: ["tattooed", "painted"],
                color: ["crimson red", "black", "golden", "silver", "white"],
                singular: {
                    appearence: ["tree", "crecent moon", "tilted scale", "symbol", "word", "name", "griffon", "dragon", "full moon", "bird"],
                    amount: ["a"]
                },
                plural: {
                    appearence: ["branches and leaves", "tilted scale", "symbols", "words", "names", "dragons", "stars", "birds", "clouds"],
                    amount: []
                },
                cover: ["on"],
            },
            engraving: {
                type: ["engraved"],
                color: [],
                singular: {
                    appearence: ["tree", "crecent moon", "tilted scale", "symbol", "word", "name", "griffon", "dragon", "full moon", "bird"],
                    amount: ["a"],
                },
                plural: {
                    appearence: ["branches and leaves", "symbols", "words", "names", "dragons", "stars", "birds"],
                    amount: [],
                },
                cover: ["on"],
            },
            piercing: {
                type: [],
                color: ["gold", "silver", "iron"],
                appearence: ["ring", "piercing", "bar"],
                cover: ["in"],
                amount: ["a"],
            },
            special: {
                type: ["jewel", "trinket"],
                color: ["red", "blue", "black", "yellow"],
                appearence: ["round", "big", "diamond shaped", "small"],
                cover: ["on"],
                amount: ["a"],
            },
            wound: {
                type: ["bruise", "scar"],
                color: [],
                cover: ["on", "near"],
                appearence: ["faint", "old", "fresh", "small", "big"],
            }
        };
        const jobs = [commoner, soldier, noble];
        var job = jobs[Math.floor(Math.random() * jobs.length)]
        return job;
    }
    function createBody(options) {
        const newBodyParts = createBodyWound(options.job);
        const Body = {
            sex: getSex(options.sex),
            job: options.job.title,
            type: options.job.bodyTypes[Math.floor(Math.random() * options.job.bodyTypes.length)],
            skinCondition: "",
            skinColor: "",
            bodyParts: createBodyWound(options.job),
            head: createFacialWound(options.job),
            clothes: getClothes(options.status),
        }
        return Body;
    }
    function createFacialWound(job) {
        const headPos = ["leftEye", "rightEye", "leftCheek", "rightCheek", "chin", "forehead", "hairline", "upperLip", "lowerLip"]
        headWoundCover = ["covering", "over", "across", "near"]


        const facialPositions = {
            leftEye: {
                displayName: "left eye",
                wounds: [job.wound],
                features: []
            },
            rightEye: {
                displayName: "right eye",
                wounds: [job.wound],
                features: []
            },
            leftEyebrow: {
                displayName: "left eyebrow",
                wounds: [job.wound],
                features: [job.piercing]
            },
            rightEyebrow: {
                displayName: "right eyebrow",
                wounds: [job.wound],
                features: [job.piercing]
            },
            leftCheek: {
                displayName: "left cheek",
                wounds: [job.wound],
                features: [job.tattoo,
                job.engraving]
            },
            rightCheek: {
                displayName: "right cheek",
                wounds: [job.wound],
                features: [job.tattoo, job.engraving]
            },
            leftEar: {
                displayName: "left ear",
                features: [job.piercing]
            },
            rightEar: {
                displayName: "right ear",
                features: [job.piercing]
            },
            chin: {
                displayName: "chin",
                wounds: [job.wound],
                features: []
            },
            forehead: {
                displayName: "forehead",
                wounds: [job.wound],
                features: [job.tattoo, job.special, job.engraving]
            },
            hairline: {
                displayName: "hair line",
                wounds: [job.wound],
                features: []
            },
            upperLip: {
                displayName: "upper lip",
                wounds: [job.wound],
                features: [job.piercing]
            },
            lowerLip: {
                displayName: "lower lip",
                wounds: [job.wound],
                features: [job.piercing]
            },
        }

        let Head = {};
        let numberOf = 1;
        while (numberOf < 9) {

            if (Math.random() < (job.woundHead / numberOf)) {
                const p = headPos[Math.floor(Math.random() * headPos.length)]
                const pos = facialPositions[p];
                if (pos.wounds != null) {
                    const w = pos.wounds[Math.floor(Math.random() * pos.wounds.length)];
                    const wound = w.type[Math.floor(Math.random() * w.type.length)]
                    const c = w.color[[Math.floor(Math.random() * w.color.length)]];
                    const color = c ?? "";

                    if (wound == "scar") {
                        amount = ["a", "several", "a few", "numerous of"]
                    }
                    else if (wound == "bruise" || "blister") {
                        amount = ["several", "plenty of", "numerous of", "a few"]
                    }
                    var amountTxt = amount[Math.floor(Math.random() * amount.length)]
                    let featureTypeTxt = wound;
                    if (amountTxt != "a") {
                        featureTypeTxt += "s";
                    }
                    Head[p] = {
                        position: pos.displayName,
                        color: color,
                        appearence: w.appearence[Math.floor(Math.random() * w.appearence.length)],
                        cover: w.cover[Math.floor(Math.random() * w.cover.length)],
                        feature: featureTypeTxt,
                        amount: amountTxt,
                    };

                    numberOf++;
                    headPos.splice(p, 1);
                }


            }
            else { break; }

        }

        numberOf = 1;
        while (numberOf < 9) {
            if (Math.random() < (job.featureChance / numberOf)) {
                const p = headPos[Math.floor(Math.random() * headPos.length)]
                const pos = facialPositions[p];
                if (pos.features.length > 0) {
                    const f = pos.features[Math.floor(Math.random() * pos.features.length)];
                    console.log("Pos is:" + JSON.stringify(pos));
                    const feature = f.type ? f.type[Math.floor(Math.random() * f.type.length)] : "";
                    console.log("Type is:" + feature);
                    let appearenceList = [];
                    let amount = "";
                    if (feature == "engraved" || feature == "tattooed" || feature == "painted" || feature == "branded") {
                        const r = Math.random() < 0.50;
                        appearenceList = r ? f.singular.appearence[Math.floor(Math.random() * f.singular.appearence.length)] : f.plural.appearence[Math.floor(Math.random() * f.plural.appearence.length)];
                        amount = r ? f.singular.amount[Math.floor(Math.random() * f.singular.amount.length)] : f.plural.amount[Math.floor(Math.random() * f.plural.amount.length)];
                    }
                    else {
                        appearenceList = f.appearence[Math.floor(Math.random() * f.appearence.length)];
                        amount = f.amount[Math.floor(Math.random() * f.amount.length)];
                    }

                    const c = f.color[[Math.floor(Math.random() * f.color.length)]];
                    const color = c ? c : "";

                    Head[p] = {
                        position: pos.displayName,
                        color: color,
                        appearence: appearenceList,
                        cover: f.cover[Math.floor(Math.random() * f.cover.length)],
                        feature: feature,
                        amount: amount,
                    };
                    numberOf++;
                    headPos.splice(p, 1);
                }
            }
            else { break; }
        }
        return Head;
    }
    function createBodyWound(job) {

        const parts = [
            leftArm = { position: "left arm", woundPos: "woundArm" },
            rightArm = { position: "right arm", woundPos: "woundArm" },
            leftLeg = { position: "left leg", woundPos: "woundLeg" },
            rightLeg = { position: "right leg", woundPos: "woundLeg" },
        ]

        let bodyParts = {};
        const woundAppearence = ["large", "small", "barely noticable"]
        const woundPositions = ["hand", "arm", "shoulder"]
        const woundCover = ["covering parts of", "completely covering", "on the side of", "on the top of", "covering most of", "near", "under", "over"]
        wound = 1;
        let numberOf = 1;
        while (wound) {
            const p = parts[Math.floor(Math.random() * parts.length)]
            const bodyType = p.woundPos
            if (Math.random() < (job[bodyType] / numberOf)) {
                const woundType = job.wound.type[Math.floor(Math.random() * job.wound.type.length)];
                if (woundType == "scar") {
                    amount = ["a", "several", "a few", "numerous of"]
                }
                else if (woundType == "bruise" || "blister") {
                    amount = ["several", "plenty of", "numerous of"]
                }
                var dmgAmount = amount[Math.floor(Math.random() * amount.length)]
                if (dmgAmount != "a") {
                    woundTypeTxt = woundType + "s";
                }
                else {
                    woundTypeTxt = woundType;
                }

                bodyParts[p.position] = {
                    position: p.position,
                    appearence: woundAppearence[Math.floor(Math.random() * woundAppearence.length)],
                    wound: woundTypeTxt,
                    cover: woundCover[Math.floor(Math.random() * woundCover.length)],
                    amount: dmgAmount,

                }
                numberOf++;
            }
            else { wound = null }
        }
        return bodyParts;
    }
</script>

</html>