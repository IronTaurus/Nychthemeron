<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random NPC</title>
</head>

<body>
    <div>
        <label for="sex-select">Sex:</label>
        <select name="sex" id="sex-select">
            <option value="">--Please choose an option--</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="Other">Other</option>
        </select>
        <label for="race-select">Race:</label>
        <select name="race" id="race-select">
            <option value="">--Please choose an option--</option>
            <option value="human">Human</option>
            <option value="orc">Orc</option>
        </select>
        <label for="origin-select">Origin:</label>
        <select name="origin" id="origin-select">
            <option value="">--Please choose an option--</option>
            <option value="Avena">Avena</option>
        </select>
        <label for="job-select">Class:</label>
        <select name="job" id="job-select">
            <option value="random">Random</option>
            <option value="commoner">Commoner</option>
            <option value="noble">Noble</option>
        </select>
        <!-- <form id="Options">
            <input type="radio" class="nameOrigin" id="originAvena" value="Avena">
            <label for="originAvena">Avena</label>
            <input type="radio" class="nameOrigin" id="originAvena" value="Heln">
            <label for="originAvena">Heln</label>
            <input type="radio" class="nameOrigin" id="originAvena" value="Legaria">
            <label for="originAvena">Legaria</label>
        </form> -->
        <button onclick="generateNpc()">Get random name</button>
        <h1 id="npcName">Name</h1>
        <h1 id="nameConstruct">Name2</h1>
        <h2 id="job">Class </h2>
        <h2 id="height">Height: </h2>
        <h2 id="age"></h2>
        <h3 id="appearenceNotable"></h3>
        <h3 id="appearenceClothes"></h3>
        <h3 id="appearanceHair"></h3>

    </div>
</body>

<script>
    // import assert from 'assert';
    // import { parse } from 'csv-parse';
    const npcNames = [];

    class Part {
        constructor(wound, features) {
            this.wound = wound;
            this.features = features;
        }
    }

    class Leg {
        constructor(foot, knee, thigh) {
            this.foot = new Part();
            this.knee = new Part();
            this.thigh = new Part();
        }
    }
    class Arm {
        constructor(hand, forearm, upperarm) {
            this.hand = new Part();
            this.forearm = new Part();
            this.upperarm = new Part();
        }
    }
    class Head {
        constructor(leftEye, rightEye, leftEar, rightEar, nose, hair, teeth, lips, cheek, brow, forehead, chin) {
            this.leftEye = leftEye;
            this.rightEye = rightEye;
            this.leftEar = leftEar;
            this.rightEar = rightEar;
            this.nose = nose;
            this.hair = hair;
            this.teeth = teeth;
            this.lips = lips;
            this.cheek = cheek;
            this.brow = brow;
            this.forehead = forehead;
            this.chin = chin;
        }
    }

    class Character {
        constructor(head, leftArm, rightArm, leftLeg, rightLeg) {
            this.head = Head;
            this.leftArm = Part;
            this.rightArm = Part;
            this.leftLeg = Part;
            this.rightLeg = Part;
        }
    }
    class Risk {
        constructor(head, arm, leg, type) {
            this.head = head;
            this.arm = arm;
            this.leg = leg;
            this.type = type;
        }
    }

    class Job {
        constructor(title, risk) {
            this.title = title;
            this.risk = new Risk();
        }
    }

    class NpcName {
        constructor(name, gender, race, origin) {
            this.name = name;
            this.gender = gender;
            this.race = race;
            this.origin = origin;
        }

    }

    // const fs = require("fs");
    // const { parse } = require("csv-parse");
    // fs.createReadStream("./NpcNames.csv");

    // fs.createReadStream("./NpcNames.csv")
    //     .pipe(parse({ delimiter: ",", from_line: 2 }))
    //     .on("data", function (row) {
    //         new NpcName(row)
    //         console.log(row);
    //     })
    //     .on("error", function (error) {
    //         console.log(error.message);
    //     })
    //     .on("end", function () {
    //         console.log("finished");
    //     });

    class Npc {
        constructor(sex, race, age, job, name, features, clothes, height, size, origin, hair) {
            this.job = job;
            this.sex = sex;
            this.race = race;
            this.name = name;
            this.features = features;
            this.clothes = clothes;
            this.height = height;
            this.size = size;
            this.origin = origin;
            this.hair = hair;
        }
    }
    //#region Human
    var avena_human_male_fNamn = ['Patrick', 'Emmet', 'Darwin', 'Irwin', 'Charles', 'Martin', 'Rodrick', 'Victor', 'Aldrich', 'Ansley', 'Barden', 'Blake', 'Booth', 'Bradley', 'Brent', 'Buck', 'Cameron', 'Carter', 'Cliff', 'Colt', 'Dane', 'Crieg', 'Devon', 'Dunstan', 'Dwight', 'Eric', 'Elden', 'Eldon', 'Floyd', 'Garrick', 'Harman', 'Hazel', 'Keyton', 'Landon', 'Leland', 'Nash', 'Morven', 'Oak', 'Nyle', 'Olin', 'Osmond', 'Oswald', 'Payton', 'Pierson', 'Peter', 'Ramsey', 'Robert', 'Rodney', 'Shaw', 'Slade', 'Stan', 'Stanley', 'Thane', 'Thorne']
    var avena_human_eNamn = ['Ashton', 'Ashdown', 'Ageworth', 'Baker', 'Bogwold', 'Brine', 'Blackfoot', 'Bagger', 'Clayman', 'Cluefinder', 'Coldwin', 'Colton', 'Caulder', 'Caldwell', 'Dawn', 'Droglor', 'Dulma', 'Dawnsquire', 'Dunst', 'Dustwyn', 'Duvall', 'Dove', 'Drover', 'Emmerson', 'Eldwyn', 'Elwin', 'Elmire', 'Eckerman', 'Everstone', 'East', 'Evens', 'Flinch', 'Fallwyn', 'Hill', 'Hammerton', 'Huxley', 'Himley', 'Lordell', 'Lorwyn', 'Lala', 'Logwin', 'Logger', 'Lonell', 'Lannis', 'North', 'Norwyn', 'Noland', 'Nogrief', 'Nostor', 'Malwyn', 'Mire', 'Mosswyn', 'Miller', 'Mithrin', 'Malos', 'Moon', 'Preston', 'Pierce', 'Poole', 'Rand', 'Relwyn', 'Sorrow', 'Sawmill', 'Saige', 'Timmer', 'Thorwin', 'Talmer']
    var avena_human_female_fNamn = ['Ashley', 'Ally', 'Allison', 'Alina', 'Alice', 'Amber', 'Anne', 'Alexandra', 'Berith', 'Bridget', 'Brittany', 'Bella', 'Belle', 'Brienne', 'Camille', 'Caroline', 'Carol', 'Doris', 'Dartha', 'Doris', 'Danielle', 'Danie', 'Diana', 'Erica', 'Emelie', 'Emma', 'Evelyn', 'Eve', 'Evelina', 'Erina', 'Elaine', 'Ester', 'Elina', 'Elin', 'Fiona', 'Falin', 'Fredrica', 'Gwen', 'Gweneth', 'Gina', 'Goldine', 'Gabrielle', 'Geena', 'Hariette', 'Hana', 'Helen', 'Helena', 'Irena', 'Irma', 'Irianna', 'Iona', 'Imogen', 'Julianne',
        'Julia', 'Juliette', 'Jane', 'Josephyn', 'Joline', 'Kalista', 'Karina', 'Karin', 'Kamille', 'Laura', 'Lisa', 'Margret', 'Maria', 'Mina', 'Nina', 'Neria', 'Noelle', 'Olivia', 'Ophelia']
    //#endregion Human
    //#region Orc
    var nameContruct1 = ['Sa', 'Su', 'Se', 'Si', 'So', 'Ka', 'Ki', 'Ku', 'Ke', 'Ko', 'Ma', 'Mi', 'Mu', 'Mo', 'Na', 'Ni', 'No'];
    var nameContruct2 = ['r', 'k', 'a', 'o', 'or', 'la', 'va'];
    var nameContruct3 = ['ah', 'oh', 'ana', 'ene', 'ick', 'ri', 're', 'in', 'va', 'vich', 'en', 'on'];

    var orcFeatures = ['a large left tusk almost double the size of the other, reaching up to his cheek', 'his left tusk broken', 'a large bone ring in his nose with orcish engravings']

    //#endregion Orc
    var appearenceBody = [' has a muscular body', ' has a thin meager body', ' has a large body', ' has a slender body']
    var appearenceMarkings = ['a tattoo on the left shoulder', 'a tattoo on the right shoulder', 'a tattoo on the back', 'a tattoo on the neck', 'a tattoo on the chest', 'a tattoo on the left leg', 'a tattoo on the right leg', 'red stripes painted over the upper body']
    var appearenceScars = ['a large scar covering most of the left face', 'a large scar covering most of the right face', 'a visible scar over the left eye', 'a clear visible scar over the right eye', 'claw marks from hairline down to the eyebrows', 'a jagged scar on the chin',
        'a large scar on the left shoulder', 'a large scar on the right shoulder', 'left side of lips torn with a nasty scar revealing the upper teeth', 'a cut off nose', 'a cut off left ear', 'a cut off right ear',
        'a missing thumb on the left hand', 'a missing thumb on the right hand', 'both ring and littlefinger missing from the left hand', 'both ring and littlefinger missing from the right hand', 'a left hand missing', 'a right hand missing']
    var appearenceClothesMaleTop = ['a red linen shirt', 'a white linen shirt', 'a gray linen shirt', 'a pink linen shirt', 'a black one sleeved shirt', 'a bare chest', 'the body wrapped in bandages', 'a torn linen shirt']
    var appearenceClothesMaleBottom = ['green baggy pants', 'brown baggy pants', 'black leather pants', 'leather shorts', 'torn linen pants']

    const clothesFemale = ['medium length dress', 'long dress', 'robe']
    const clothesArmourType = ['leather', 'chain', 'plated', 'studded leather']
    const clothesFabricNoble = ['silken', 'velvet', 'tafeta', 'damask']
    const clothesFabricCommoner = ['linen', 'wool', 'leather', 'hemp']
    const clothesCommonerTop = ['shirt', 'tunic', 'sleeveless shirt', 'poncho']
    const clothesCommonerBotType = ['short', 'long', 'worn', 'pirate', 'baggy', 'tight', 'thin', 'knee long', 'one legged', 'torn']
    const clothesCommonerBot = ['pants', 'skirt']
    const clothesCommonerBotSuffix = ['bandage wrappings on left leg', 'bandage wrappings on right leg']
    const clothesCommonerFootSocksPrefix = ['knee high', 'short']
    const clothesCommonerFootSocks = ['socks', 'wrappings']
    const clothesNobleColor = ['bright red', 'orange', 'yellow', 'snow white', 'deep blue', 'purple', 'dark gren', 'green', 'bright green', 'sky blue']
    const clothesCommonerColor = ['red', 'gray', 'ivory white', 'vanilla', 'brown']
    const clothesArmourTop = []


    var appearanceHairStyle1 = ['long wavy hair', 'long curly hair', 'long straight hair', 'long bushy hair', 'shoulder long wavy hair', 'shoulder long wavy hair', 'shoulder long curly hair', 'shoulder long straight hair', 'shoulder long bushy hair'
        , 'short wavy hair', 'short wavy hair', 'short curly hair', 'short straight hair', 'short bushy hair', 'short uncombed hair']
    var appearanceHairStyle2 = ['with a single large braid', 'with several thin braids', 'split into two braids', 'tied in a knot on the back of the head', 'combed to the side', 'combed to the back', 'tied in a knot on top of the head',
        'uncombed and wild', 'tied in a tail on the back of the head', 'with a single thin braid hanging on the left', 'with a single thin braid hanging on the right']
    var appearanceHairColor = ['black', 'dark brown', 'light brown', 'dark red', 'red', 'strawberry blonde', 'blonde', 'jet black', 'gray', 'white']

    function generateNpc() {

        let newCharacter = createBody(getJob());

        if (newCharacter.leftArm == null) {
            console.log("Left arm is missing!");
        }
        else {
            console.log(newCharacter.leftArm.wound)
        }
        if (newCharacter.rightArm == null) {
            console.log("Right arm is missing!");
        }
        else {
            console.log(newCharacter.rightArm.wound)
        }
        if (newCharacter.leftLeg == null) {
            console.log("Left leg is missing!");
        }
        else {
            console.log("Has a left leg!")
        }
        if (newCharacter.rightLeg == null) {
            console.log("Right leg is missing!");
        }
        else {
            console.log("Has a right leg!")
        }

        var race = document.getElementById("race-select").value;
        var sex = document.getElementById("sex-select").value;
        var origin = document.getElementById("origin-select").value;
        const job = getJob();
        var clothes = getClothes(race, sex, job);
        var hairStyle = getHair(race);
        var body = getBody(race, sex);

        var features = getFeatures(race);
        var hairText = getSex(sex).pronoun1 + " has " + hairStyle.hairColor + " " + hairStyle.hairStyle1 + " " + hairStyle.hairStyle2 + "."
        const hair = hairText.charAt(0).toUpperCase() + hairText.slice(1);
        var featureText = getSex(sex).pronoun1 + body.build;
        if (features.length) { featureText += " with " }
        features.forEach((element, index) => {
            if (index == features.length - 1 && features.length > 1) { featureText += ' and ' }
            else if (features.indexOf(element) != 0) { featureText += ', ' }
            featureText += element
        });
        const featureText2 = featureText.charAt(0).toUpperCase() + featureText.slice(1) + '.';
        let newNpc = new Npc();
        newNpc.sex = getSex(sex);
        newNpc.race = race;
        newNpc.name = getName(race, sex, origin);
        newNpc.features = featureText2;
        newNpc.clothes = clothes;
        newNpc.hair = hair;
        newNpc.height = body.height;
        newNpc.age = body.age;
        newNpc.size = body.size;
        newNpc.origin = origin;
        newNpc.job = job;

        console.log(newNpc.race);
        console.log(newNpc.sex);
        console.log(body.size);
        console.log(body.height);
        console.log(newNpc.features);

        document.getElementById("appearenceNotable").innerHTML = newNpc.features;
        document.getElementById("npcName").innerHTML = newNpc.name.fNamn + " " + newNpc.name.eNamn;
        document.getElementById("height").innerHTML = newNpc.height + "cm";
        document.getElementById("age").innerHTML = newNpc.age + " years old.";
        document.getElementById("appearanceHair").innerHTML = newNpc.hair;
        document.getElementById("job").innerHTML = newNpc.job;
        //document.getElementById("appearenceNotable").innerHTML =
        document.getElementById("appearenceClothes").innerHTML = newNpc.name.fNamn + " is dressed in " + newNpc.clothes + ".";
        nameCon1 = nameContruct1[Math.floor(Math.random() * nameContruct1.length)];
        if (Math.random() < 0.5) {
            nameCon2 = nameContruct2[Math.floor(Math.random() * nameContruct2.length)];
        }
        else (nameCon2 = "")
        nameCon3 = nameContruct3[Math.floor(Math.random() * nameContruct3.length)];
        document.getElementById("nameConstruct").innerHTML = nameCon1 + nameCon2 + nameCon3;

    }
    function getClothes(race, sex, job) {
        var clothesList = [];
        switch (job) {
            case 'commoner':
                if (Math.random() < 0.5 && sex == 'female') {
                    var clothesType = clothesFemale[Math.floor(Math.random() * clothesFemale.length)];
                    var fabric = clothesFabricCommoner[Math.floor(Math.random() * clothesFabricCommoner.length)];
                    var color = clothesCommonerColor[Math.floor(Math.random() * clothesCommonerColor.length)];
                    var clothes = color + " " + clothesType + " made of " + fabric;
                }
                else {
                    var clothesTop = clothesCommonerTop[Math.floor(Math.random() * clothesCommonerTop.length)];
                    var clothesBot = clothesCommonerBot[Math.floor(Math.random() * clothesCommonerBot.length)];
                    var sockType = clothesCommonerFootSocks[Math.floor(Math.random() * clothesCommonerFootSocks.length)];
                    var sockPrefix = clothesCommonerFootSocksPrefix[Math.floor(Math.random() * clothesCommonerFootSocksPrefix.length)];
                    var fabric = clothesFabricCommoner[Math.floor(Math.random() * clothesFabricCommoner.length)];
                    var color = clothesCommonerColor[Math.floor(Math.random() * clothesCommonerColor.length)];
                    var socks = " with " + sockPrefix + " " + color + " " + fabric + " " + sockType;
                    var topFabric = clothesFabricCommoner[Math.floor(Math.random() * clothesFabricCommoner.length)];
                    var botFabric = clothesFabricCommoner[Math.floor(Math.random() * clothesFabricCommoner.length)];
                    var topColor = clothesCommonerColor[Math.floor(Math.random() * clothesCommonerColor.length)];
                    var botColor = clothesCommonerColor[Math.floor(Math.random() * clothesCommonerColor.length)];
                    var legSuffix = clothesCommonerBotSuffix[Math.floor(Math.random() * clothesCommonerBotSuffix.length)];
                    if (Math.random() < 0.5) {
                        if (Math.random() < 0.5) {
                            var clothes = botColor + " " + clothesBot + " made of " + botFabric + " with a " + topColor + " " + topFabric + " " + clothesTop + " and " + socks + " and " + legSuffix;

                        }
                        else {
                            var clothes = botColor + " " + clothesBot + " made of " + botFabric + " with a " + topColor + " " + topFabric + " " + clothesTop + " and " + socks;

                        }

                    }
                    else {
                        if (Math.random() < 0.5) {
                            var clothes = botColor + " " + clothesBot + " made of " + botFabric + " with a " + topColor + " " + topFabric + " " + clothesTop + " and " + legSuffix;

                        }
                        else {
                            var clothes = botColor + " " + clothesBot + " made of " + botFabric + " with a " + topColor + " " + topFabric + " " + clothesTop;
                        }
                    }
                }
                return clothes;
            case 'noble':
                if (Math.random() < 0.3 && sex == 'female') {
                    var clothesType = clothesFemale[Math.floor(Math.random() * clothesFemale.length)];
                    var fabric = clothesFabricNoble[Math.floor(Math.random() * clothesFabricNoble.length)];
                    var color = clothesNobleColor[Math.floor(Math.random() * clothesNobleColor.length)];
                    var clothes = color + " " + clothesType + " made of " + fabric;
                }
                else {
                    var clothesTop = clothesCommonerTop[Math.floor(Math.random() * clothesCommonerTop.length)];
                    var clothesBot = clothesCommonerBot[Math.floor(Math.random() * clothesCommonerBot.length)];
                    var topFabric = clothesFabricNoble[Math.floor(Math.random() * clothesFabricNoble.length)];
                    var botFabric = clothesFabricNoble[Math.floor(Math.random() * clothesFabricNoble.length)];
                    var topColor = clothesNobleColor[Math.floor(Math.random() * clothesNobleColor.length)];
                    var botColor = clothesNobleColor[Math.floor(Math.random() * clothesNobleColor.length)];
                    var sockType = clothesCommonerFootSocks[Math.floor(Math.random() * clothesCommonerFootSocks.length)];
                    var sockPrefix = clothesCommonerFootSocksPrefix[Math.floor(Math.random() * clothesCommonerFootSocksPrefix.length)];
                    var fabric = clothesFabricNoble[Math.floor(Math.random() * clothesFabricCommoner.length)];
                    var color = clothesNobleColor[Math.floor(Math.random() * clothesCommonerColor.length)];
                    var socks = " with " + sockPrefix + " " + color + " " + fabric + " " + sockType;
                    if (Math.random() < 0.6) {
                        var clothes = botColor + " " + clothesBot + " made of " + botFabric + " and " + socks + " with a " + topColor + " " + topFabric + " " + clothesTop;

                    }
                    else {
                        var clothes = botColor + " " + clothesBot + " made of " + botFabric + " with a " + topColor + " " + topFabric + " " + clothesTop;
                    }
                }
                return clothes;
                break;
        }
    }
    function getFeatures(race) {
        var feature = [];
        if (race == 'orc') {
            var racialFeature = orcFeatures[Math.floor(Math.random() * orcFeatures.length)];
            feature.push(racialFeature);
        }

        if (Math.random() < 0.5) {
            var scar = appearenceScars[Math.floor(Math.random() * appearenceScars.length)];
            feature.push(scar);
        }

        if (Math.random() < 0.5) {
            var marking = appearenceMarkings[Math.floor(Math.random() * appearenceMarkings.length)]
            feature.push(marking);
        }

        return feature;
    }
    function getBody(race, sex) {
        if (race == 'orc') {
            var height = Math.floor(Math.random() * (300 - 190)) + 190;
            var size = 'large'
            var build = appearenceBody[Math.floor(Math.random() * appearenceBody.length)]
            var age = Math.floor(Math.random() * (90 - 20)) + 20;

        }
        else if (race == 'human') {
            if (sex == 'male') {
                var height = Math.floor(Math.random() * (190 - 160)) + 160;

            }
            if (sex == 'female') {
                var height = Math.floor(Math.random() * (180 - 150)) + 150;
            }
            var size = 'medium'
            var build = appearenceBody[Math.floor(Math.random() * appearenceBody.length)]
            if (Math.random() < 0.7) {
                if (Math.random() < 0.65) {
                    var age = Math.floor(Math.random() * (35 - 17)) + 17;
                }
                else { var age = Math.floor(Math.random() * (59 - 34)) + 34; }

            }
            else { var age = Math.floor(Math.random() * (80 - 60)) + 60; }

        }
        return { height, size, build, age };
    }
    function getName(race, sex, origin) {
        if (race == 'human') {
            if (origin == 'Avena') {
                if (sex == 'male') {
                    var fNamn = avena_human_male_fNamn[Math.floor(Math.random() * avena_human_male_fNamn.length)]
                    var eNamn = avena_human_eNamn[Math.floor(Math.random() * avena_human_eNamn.length)]
                }
                else if (sex == 'female') {
                    var fNamn = avena_human_female_fNamn[Math.floor(Math.random() * avena_human_female_fNamn.length)]
                    var eNamn = avena_human_eNamn[Math.floor(Math.random() * avena_human_eNamn.length)]
                }
            }

        }
        else if (race == 'orc') {
            if (sex == 'male') {
                // var fNamn = avena_human_male_fNamn[Math.floor(Math.random() * avena_human_male_fNamn.length)]
                // var eNamn = avena_human_male_eNamn[Math.floor(Math.random() * avena_human_male_eNamn.length)]
                var fNamn = 'test';
                var eNamn = 'orc male'
            }
            else if (sex == 'female') {
                var fNamn = 'test';
                var eNamn = 'orc female'

            }
        }
        return { fNamn, eNamn };
    }
    function getSex(sex) {
        if (sex == 'female') {
            var pronoun1 = "she"
            var pronoun2 = "her"
            var owning = "hers"
        }
        else if (sex == 'male') {
            var pronoun1 = "he"
            var pronoun2 = "him"
            var owning = "his"
        }
        else if (sex == 'other') {
            var pronoun1 = "they"
            var pronoun2 = "them"
            var owning = "theirs"
        }
        return { pronoun1, pronoun2, owning }
    }
    function getHair(race) {
        if (race == 'human') {
            var hairStyle1 = appearanceHairStyle1[Math.floor(Math.random() * appearanceHairStyle1.length)];
            var hairStyle2 = appearanceHairStyle2[Math.floor(Math.random() * appearanceHairStyle2.length)];
            hairColor = appearanceHairColor[Math.floor(Math.random() * appearanceHairColor.length)];
        }
        else if (race == 'orc') {
            var hairStyle1 = appearanceHairStyle1[Math.floor(Math.random() * appearanceHairStyle1.length)];
            var hairStyle2 = appearanceHairStyle2[Math.floor(Math.random() * appearanceHairStyle2.length)];
            hairColor = appearanceHairColor[Math.floor(Math.random() * appearanceHairColor.length)];
        }
        return { hairStyle1, hairStyle2, hairColor };
    }
    function getJob() {

        const jobs = [];
        const commoner = new Job();
        commoner.title = "Commoner";
        const commonerRisk = new Risk();
        commonerRisk.type = ["bruise", "blister"];
        commonerRisk.arm = 0.15;
        commonerRisk.leg = 0.1;
        commonerRisk.head = 0.1;
        commoner.risk = commonerRisk;
        jobs.push(commoner);

        const soldier = new Job();
        soldier.title = "Soldier";
        const soldierRisk = new Risk();
        soldierRisk.type = ["bruise", "scar"]
        soldierRisk.arm = 0.25;
        soldierRisk.leg = 0.1;
        soldierRisk.head = 0.1;
        soldier.risk = soldierRisk;
        jobs.push(soldier);

        var job = jobs[Math.floor(Math.random() * jobs.length)]
        return job;

        // if (document.getElementById("job-select").value == "random") {         
        // }
    }

    function createBody(job) {

        let character = new Character();
        character.leftArm.name = "left arm";
        character.rightArm.name = "right arm";
        let head = new Head();
        let thisRisk = new Risk();
        thisRisk = job.risk;
        console.log(job.title);
        console.log(job.risk.arm);
        console.log(job.risk.arm);
        character.Head = head;


        //Has right arm?
        if (Math.random() < job.risk.arm) {
            character.rightArm = null;
        }
        else {
            character.rightArm = createFeature("right arm", job, job.risk.arm);
        }

        //Has left arm?
        if (Math.random() < job.risk.arm) {
            character.leftArm = null;
        }
        else {
            character.leftArm = createFeature("left arm", job, job.risk.arm);
        }

        //Has right leg?
        if (Math.random() < job.risk.leg) {
            character.rightLeg = null;
        }
        //Has left lrg?
        if (Math.random() < job.risk.leg) {
            character.leftLeg = null;
        }


        return character;
    }

    function createFeature(name, job, riskValue) {
        const degree = ["large", "small", "barely noticable"]
        var amount = []
        let part = new Part();

        if (Math.random() < (riskValue * 2)) {
            var dmgType = job.risk.type[Math.floor(Math.random() * job.risk.type.length)]
            var dmgDegree = degree[Math.floor(Math.random() * degree.length)]
            if (dmgType == "scar") {
                amount = ["a", "several", "plenty of", "numerous of"]
            }
            else if (dmgType == "bruise" || "blister") {
                amount = ["several", "plenty of", "numerous of", "it is covered with"]
            }
            var dmgAmount = amount[Math.floor(Math.random() * amount.length)]
            if (dmgAmount != "a") {
                dmgType = dmgType + "s";
            }
            part.wound = "On the " + name + " you can see " + dmgAmount + " " + dmgDegree + " " + dmgType + "."
        }
        else {
            part.wound = "Normal looking " + name + ".";
        }

        return part;
    }
</script>

</html>